{"ast":null,"code":"var _jsxFileName = \"U:\\\\Java\\\\WaverApp\\\\frontend\\\\src\\\\Pages\\\\UserPage.js\";\nimport React from 'react';\nimport * as apiCalls from '../api/apiCalls';\nimport ProfileCard from '../Components/ProfileCard';\n\nclass UserPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: undefined,\n      userNotFound: false,\n      isLoadingUser: true\n    };\n\n    this.componentDidMount = () => {//this.loadUser();\n    };\n\n    this.loadUser = () => {\n      const username = this.props.match.params.username;\n\n      if (!username) {\n        return;\n      }\n\n      this.setState({\n        userNotFound: false,\n        isLoadingUser: true\n      });\n      apiCalls.getUser(username).then(response => {\n        this.setState({\n          user: response.data,\n          isLoadingUser: false\n        });\n      }).catch(error => {\n        this.setState({\n          userNotFound: true,\n          isLoadingUser: false\n        });\n      });\n    };\n\n    this.componentDidUpdate = prevProps => {\n      if (prevProps.match.params.username !== this.props.match.params.username) {//this.loadUser();\n      }\n    };\n  }\n\n  render() {\n    if (this.state.isLoadingUser) {\n      return React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"spinner-border m-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"sr-only\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Loading...\")));\n    }\n\n    if (this.state.userNotFound) {\n      return React.createElement(\"div\", {\n        className: \"alert alert-danger text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"User not found\"));\n    }\n\n    return React.createElement(\"div\", {\n      \"data-testid\": \"userpage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.state.user && React.createElement(ProfileCard, {\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }));\n  }\n\n}\n\nUserPage.defaultProps = {\n  match: {\n    params: {}\n  }\n};\nexport default UserPage;","map":{"version":3,"sources":["U:/Java/WaverApp/frontend/src/Pages/UserPage.js"],"names":["React","apiCalls","ProfileCard","UserPage","Component","state","user","undefined","userNotFound","isLoadingUser","componentDidMount","loadUser","username","props","match","params","setState","getUser","then","response","data","catch","error","componentDidUpdate","prevProps","render","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,KAAKC,QAAZ,MAA0B,iBAA1B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;;AAEA,MAAMC,QAAN,SAAuBH,KAAK,CAACI,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCC,KAFmC,GAE3B;AACJC,MAAAA,IAAI,EAAEC,SADF;AAEJC,MAAAA,YAAY,EAAE,KAFV;AAGJC,MAAAA,aAAa,EAAE;AAHX,KAF2B;;AAAA,SAQnCC,iBARmC,GAQf,MAAM,CACtB;AACH,KAVkC;;AAAA,SAYnCC,QAZmC,GAYxB,MAAK;AACZ,YAAMC,QAAQ,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAAzC;;AACA,UAAI,CAACA,QAAL,EAAc;AACV;AACH;;AACD,WAAKI,QAAL,CAAc;AAACR,QAAAA,YAAY,EAAE,KAAf;AAAsBC,QAAAA,aAAa,EAAE;AAArC,OAAd;AACAR,MAAAA,QAAQ,CAACgB,OAAT,CAAiBL,QAAjB,EACKM,IADL,CACWC,QAAD,IAAc;AAChB,aAAKH,QAAL,CAAc;AAACV,UAAAA,IAAI,EAAEa,QAAQ,CAACC,IAAhB;AAAsBX,UAAAA,aAAa,EAAE;AAArC,SAAd;AACH,OAHL,EAIKY,KAJL,CAIWC,KAAK,IAAI;AACZ,aAAKN,QAAL,CAAc;AAACR,UAAAA,YAAY,EAAE,IAAf;AAAqBC,UAAAA,aAAa,EAAE;AAApC,SAAd;AACH,OANL;AAOH,KAzBkC;;AAAA,SA0BnCc,kBA1BmC,GA0BbC,SAAD,IAAe;AAChC,UAAGA,SAAS,CAACV,KAAV,CAAgBC,MAAhB,CAAuBH,QAAvB,KAAoC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,QAA/D,EAAwE,CACpE;AACH;AACJ,KA9BkC;AAAA;;AAgCnCa,EAAAA,MAAM,GAAE;AACJ,QAAG,KAAKpB,KAAL,CAAWI,aAAd,EAA4B;AACxB,aACI;AAAK,QAAA,SAAS,EAAG,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAG,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,KAAK,EAAG,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ,CADJ;AAOH;;AAED,QAAI,KAAKJ,KAAL,CAAWG,YAAf,EAA4B;AACxB,aACI;AAAK,QAAA,SAAS,EAAG,gCAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,CADJ;AAKH;;AACD,WACI;AAAK,qBAAc,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKH,KAAL,CAAWC,IAAX,IAAmB,oBAAC,WAAD;AAAa,MAAA,IAAI,EAAI,KAAKD,KAAL,CAAWC,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADxB,CADJ;AAKH;;AAvDkC;;AA0DvCH,QAAQ,CAACuB,YAAT,GAAwB;AACpBZ,EAAAA,KAAK,EAAE;AACHC,IAAAA,MAAM,EAAE;AADL;AADa,CAAxB;AAMA,eAAeZ,QAAf","sourcesContent":["import React from 'react';\r\n\r\nimport * as apiCalls from '../api/apiCalls';\r\nimport ProfileCard from '../Components/ProfileCard';\r\n\r\nclass UserPage extends React.Component {\r\n    \r\n    state = {\r\n        user: undefined,\r\n        userNotFound: false,\r\n        isLoadingUser: true,\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        //this.loadUser();\r\n    }\r\n\r\n    loadUser = () =>{\r\n        const username = this.props.match.params.username;\r\n        if (!username){\r\n            return;\r\n        }\r\n        this.setState({userNotFound: false, isLoadingUser: true})\r\n        apiCalls.getUser(username)\r\n            .then((response) => {\r\n                this.setState({user: response.data, isLoadingUser: false})\r\n            })\r\n            .catch(error => {\r\n                this.setState({userNotFound: true, isLoadingUser: false})\r\n            });\r\n    }\r\n    componentDidUpdate = (prevProps) => {\r\n        if(prevProps.match.params.username !== this.props.match.params.username){\r\n            //this.loadUser();\r\n        }\r\n    }\r\n\r\n    render(){\r\n        if(this.state.isLoadingUser){\r\n            return (\r\n                <div className = \"d-flex\">\r\n                    <div className = \"spinner-border m-auto\">\r\n                        <span class = \"sr-only\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        if (this.state.userNotFound){\r\n            return (\r\n                <div className = \"alert alert-danger text-center\">\r\n                    <h5>User not found</h5>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div data-testid = \"userpage\">\r\n                {this.state.user && <ProfileCard user = {this.state.user}/>}\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nUserPage.defaultProps = {\r\n    match: {\r\n        params: {}\r\n    }\r\n}\r\n\r\nexport default UserPage;"]},"metadata":{},"sourceType":"module"}