{"ast":null,"code":"var _jsxFileName = \"U:\\\\Java\\\\WaverApp\\\\frontend\\\\src\\\\Components\\\\TopBar.js\";\nimport React from 'react';\nimport logo from '../Assets/Waver-testLogo.png';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ProfileImage from './ProfileImage';\n\nclass TopBar extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      dropDownVisible: false\n    };\n\n    this.onClickTracker = event => {\n      if (this.actionArea && !this.actionArea.contains(event.target)) {\n        this.setState({\n          dropDownVisible: false\n        });\n      }\n    };\n\n    this.onClickDisplayName = () => {\n      this.setState({\n        dropDownVisible: true\n      });\n    };\n\n    this.onClickLogOut = () => {\n      const action = {\n        type: 'logout-success'\n      };\n      this.setState({\n        dropDownVisible: false\n      });\n      this.props.dispatch(action);\n    };\n\n    this.assignActionArea = area => {\n      this.actionArea = area;\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.onClickTracker);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.onClickTracker);\n  }\n\n  render() {\n    let links = React.createElement(\"ul\", {\n      className: \"nav navbar-nav ml-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"li\", {\n      className: \"nav-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/signup\",\n      className: \"nav-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Sign Up\")));\n\n    if (this.props.user.isLoggedIn) {\n      let dropDownClass = 'p-0 shadow dropdown-menu';\n\n      if (this.state.dropDownVisible) {\n        dropDownClass += ' show';\n      }\n\n      links = React.createElement(\"ul\", {\n        className: \"nav navbar-nav ml-auto\",\n        ref: this.assignActionArea,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex\",\n        style: {\n          cursor: \"poiner\"\n        },\n        onClick: this.onClickDisplayName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"nav navbar-nav ml auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        className: \"nav-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(ProfileImage, {\n        image: this.props.user.image,\n        className: \"rounded-circle m-auto\",\n        width: \"32\",\n        height: \"32\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        className: \"nav-item nav-link\",\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"dropdown-toggle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.props.user.displayName)))), React.createElement(\"div\", {\n        className: dropDownClass,\n        \"data-testid\": \"drop-down-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: `/${this.props.user.username}`,\n        className: \"dropdown-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"My Profile\"), React.createElement(\"span\", {\n        className: \"dropdown-item\",\n        onClick: this.onClickLogOut,\n        style: {\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Logout\"))));\n    }\n\n    return React.createElement(\"div\", {\n      className: \"bg-white shadow-sm mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"navbar navbar-light navbar-expand-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      className: \"navbar-brand\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      width: \"60\",\n      alt: \"Waver\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }), \" Waver\"), links)));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state\n  };\n};\n\nexport default connect(mapStateToProps)(TopBar);","map":{"version":3,"sources":["U:/Java/WaverApp/frontend/src/Components/TopBar.js"],"names":["React","logo","Link","connect","ProfileImage","TopBar","Component","state","dropDownVisible","onClickTracker","event","actionArea","contains","target","setState","onClickDisplayName","onClickLogOut","action","type","props","dispatch","assignActionArea","area","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","links","user","isLoggedIn","dropDownClass","cursor","image","displayName","username","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport logo from '../Assets/Waver-testLogo.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ProfileImage from './ProfileImage';\r\n\r\nclass TopBar extends React.Component{\r\n\r\n    state = {\r\n        dropDownVisible: false,\r\n    }\r\n\r\n    componentDidMount(){\r\n        document.addEventListener('click', this.onClickTracker);\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        document.removeEventListener('click', this.onClickTracker);\r\n    }\r\n\r\n    onClickTracker = (event) => {\r\n        if (this.actionArea && !this.actionArea.contains(event.target)){\r\n            this.setState({dropDownVisible: false});\r\n        }\r\n    }\r\n\r\n    onClickDisplayName = () => {\r\n        this.setState({dropDownVisible: true});\r\n    }\r\n\r\n    onClickLogOut = () => {\r\n        const action = {\r\n            type: 'logout-success',\r\n        };\r\n        this.setState({\r\n            dropDownVisible: false,\r\n        })\r\n        this.props.dispatch(action);\r\n    };\r\n\r\n    assignActionArea = (area) => {\r\n        this.actionArea = area;\r\n    }\r\n\r\n    render(){\r\n        let links = (\r\n            <ul className = \"nav navbar-nav ml-auto\">\r\n                <li className = \"nav-item\">\r\n                    <Link to = \"/login\" className = \"nav-link\">\r\n                        Login\r\n                    </Link>\r\n                </li>\r\n                <li className = \"nav-item\">\r\n                    <Link to = \"/signup\" className = \"nav-link\">\r\n                        Sign Up\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        );\r\n        if (this.props.user.isLoggedIn){\r\n            let dropDownClass = 'p-0 shadow dropdown-menu';\r\n            if (this.state.dropDownVisible){\r\n                dropDownClass += ' show';\r\n            }\r\n            links = (\r\n                <ul className = \"nav navbar-nav ml-auto\" ref = {this.assignActionArea}>\r\n                    <li className = \"nav-item dropdown\">\r\n                        <div   \r\n                            className = \"d-flex\" \r\n                            style = {{cursor: \"poiner\"}}\r\n                            onClick = {this.onClickDisplayName}\r\n                        >\r\n                            <ul className = \"nav navbar-nav ml auto\">\r\n                                <li className = \"nav-item\">\r\n                                <ProfileImage \r\n                                    image = {this.props.user.image}\r\n                                    className = \"rounded-circle m-auto\"\r\n                                    width = \"32\"\r\n                                    height = \"32\"    \r\n                                />\r\n                                </li>\r\n                                <li className = \"nav-item nav-link\"\r\n                                    style = {{cursor: 'pointer'}}\r\n                                >\r\n                                    <span className = \"dropdown-toggle\">\r\n                                        {this.props.user.displayName}\r\n                                    </span>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div \r\n                            className = {dropDownClass}\r\n                            data-testid = \"drop-down-menu\"\r\n                        >\r\n                                <Link \r\n                                    to = {`/${this.props.user.username}`} \r\n                                    className = \"dropdown-item\"\r\n                                >\r\n                                    My Profile\r\n                                </Link>\r\n                                <span className = \"dropdown-item\"\r\n                                    onClick = {this.onClickLogOut}\r\n                                    style = {{cursor: 'pointer'}}\r\n                                >\r\n                                    Logout\r\n                                </span>\r\n                        </div>\r\n                    </li>\r\n                </ul>\r\n            )\r\n        }\r\n        return(\r\n            <div className = \"bg-white shadow-sm mb-2\">\r\n                <div className = \"container\">\r\n                    <nav className = \"navbar navbar-light navbar-expand-lg\">\r\n                        <Link to = \"/\" className = \"navbar-brand\">\r\n                            <img src = {logo} width = \"60\" alt = \"Waver\"/> Waver\r\n                        </Link>\r\n                        {links}\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(TopBar);"]},"metadata":{},"sourceType":"module"}