{"ast":null,"code":"var _jsxFileName = \"U:\\\\Java\\\\WaverApp\\\\frontend\\\\src\\\\Components\\\\WaveSubmit.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ProfileImage from './ProfileImage';\nimport * as apiCalls from '../api/apiCalls';\nimport ButtonWithProgress from './ButtonWithProgress';\n\nclass WaveSubmit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      focused: false,\n      content: undefined,\n      pendingApiCall: false\n    };\n\n    this.onFocus = () => {\n      this.setState({\n        focused: true\n      });\n    };\n\n    this.onClickExtinguishWave = () => {\n      this.setState({\n        focused: false,\n        content: ''\n      });\n    };\n\n    this.onChangeContent = event => {\n      const value = event.target.value;\n      this.setState({\n        content: value\n      });\n    };\n\n    this.onClickRunWave = () => {\n      const body = {\n        content: this.state.content\n      };\n      this.setState({\n        pendingApiCall: true\n      });\n      apiCalls.postWave(body).then(response => {\n        this.setState({\n          focused: false,\n          content: '',\n          pendingApiCall: false\n        });\n      }).catch(error => {\n        this.setState({\n          pendingApiCall: false\n        });\n      });\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"card d-flex flex-row p-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(ProfileImage, {\n      className: \"rounded-circle m-1\",\n      width: \"32\",\n      height: \"32\",\n      image: this.props.loggedInUser.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"flex-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"form-control w-100\",\n      rows: this.state.focused ? 3 : 1,\n      onFocus: this.onFocus,\n      value: this.state.content,\n      onChange: this.onChangeContent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), this.state.focused && React.createElement(\"div\", {\n      className: \"text-right mt-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(ButtonWithProgress, {\n      className: \"btn btn-success\",\n      onClick: this.onClickRunWave,\n      disabled: this.state.pendingApiCall,\n      pendingApiCall: this.state.pendingApiCall,\n      text: \"Run wave\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"btn btn-light ml-1\",\n      onClick: this.onClickExtinguishWave,\n      disabled: this.state.pendingApiCall,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Extinguish wave\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state\n  };\n};\n\nexport default connect(mapStateToProps)(WaveSubmit);","map":{"version":3,"sources":["U:/Java/WaverApp/frontend/src/Components/WaveSubmit.js"],"names":["React","Component","connect","ProfileImage","apiCalls","ButtonWithProgress","WaveSubmit","state","focused","content","undefined","pendingApiCall","onFocus","setState","onClickExtinguishWave","onChangeContent","event","value","target","onClickRunWave","body","postWave","then","response","catch","error","render","props","loggedInUser","image","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ProfileImage from './ProfileImage';\r\nimport * as apiCalls from '../api/apiCalls';\r\nimport ButtonWithProgress from './ButtonWithProgress';\r\n\r\nclass WaveSubmit extends Component {\r\n\r\n    state = {\r\n        focused: false,\r\n        content: undefined,\r\n        pendingApiCall: false,\r\n    }\r\n\r\n    onFocus = () => {\r\n        this.setState({focused: true});\r\n    }\r\n\r\n    onClickExtinguishWave = () => {\r\n        this.setState({\r\n            focused: false,\r\n            content: '',\r\n        });\r\n    }\r\n\r\n    onChangeContent = (event) => {\r\n        const value = event.target.value;\r\n        this.setState({content: value});\r\n    }\r\n\r\n    onClickRunWave = () => {\r\n        const body = {\r\n            content: this.state.content,\r\n        };\r\n        this.setState({pendingApiCall: true});\r\n        apiCalls.postWave(body)\r\n            .then((response) => {\r\n                this.setState({\r\n                    focused: false,\r\n                    content: '',\r\n                    pendingApiCall: false,\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                this.setState({\r\n                    pendingApiCall: false,\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className = \"card d-flex flex-row p-1\">\r\n                <ProfileImage\r\n                    className = \"rounded-circle m-1\"\r\n                    width = \"32\"\r\n                    height = \"32\"\r\n                    image = {this.props.loggedInUser.image}\r\n                />\r\n                <div className = \"flex-fill\">\r\n                    <textarea \r\n                        className = \"form-control w-100\" \r\n                        rows = {this.state.focused ? 3 : 1}\r\n                        onFocus = {this.onFocus}\r\n                        value = {this.state.content}\r\n                        onChange = {this.onChangeContent}\r\n                    /> \r\n                    {this.state.focused && (\r\n                        <div className = \"text-right mt-1\">\r\n                            <ButtonWithProgress \r\n                                className = \"btn btn-success\"\r\n                                onClick = {this.onClickRunWave}    \r\n                                disabled = {this.state.pendingApiCall}\r\n                                pendingApiCall = {this.state.pendingApiCall}\r\n                                text = \"Run wave\"\r\n                            >\r\n                            </ButtonWithProgress>  \r\n                            <button \r\n                                className = \"btn btn-light ml-1\" \r\n                                onClick = {this.onClickExtinguishWave}\r\n                                disabled = {this.state.pendingApiCall}\r\n                            >\r\n                                Extinguish wave\r\n                            </button>\r\n                        </div>  \r\n                    )}\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        loggedInUser: state\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(WaveSubmit);"]},"metadata":{},"sourceType":"module"}